<div class="form-group" ng-repeat="website in vm.websites | filter: {is_primary:false}">
    <label for="id_website-{{ $index }}"
           ng-show="$first" c
           ng-class="{'col-xs-12': vm.sideBar, 'control-label col-md-2': !vm.sideBar}">Extra website</label>
    <div ng-class="{'col-xs-10': vm.sideBar, 'col-md-4': !vm.sideBar, 'col-md-offset-2': !$first && !vm.sideBar, 'has-error': form['websites-website-' + $index].$invalid }">
        <input class="form-control"
               id="id_website-{{ $index }}"
               maxlength="255"
               name="websites-website-{{ $index }}"
               placeholder="www.example.com"
               type="text"
               ng-model="website.website"
               ng-readonly="website.is_deleted">
        <field-error form="form" field="websites-website" index="$index"></field-error>
    </div>
    <div ng-class="{'col-xs-2': vm.sideBar, 'col-md-2': !vm.sideBar}">
        <a ng-click="vm.removeRelatedField({field: 'website', index: website, remove: false})" class="btn btn-sm default" title="Undo the deletion of this row" ng-show="website.is_deleted">
            <i class="fa fa-undo"></i>
        </a>
        <a ng-click="vm.removeRelatedField({field: 'website', index: website, remove: true})" class="btn btn-sm default" title="Delete this row" ng-hide="website.is_deleted">
            <i class="fa fa-trash"></i>
        </a>
    </div>
</div>

<div class="form-group">
    <label ng-hide="(vm.websites|filter:{is_primary:false}).length"
           ng-class="{'col-xs-12': vm.sideBar, 'control-label col-md-2': !vm.sideBar}">Extra website</label>
    <div class="col-md-10" ng-class="{ 'col-md-offset-2': (vm.websites|filter:{is_primary:false}).length && !vm.sideBar }">
        <a ng-click="vm.addRelatedField({field:'website'})" class="form-control-static">Add a website</a>
    </div>
</div>
