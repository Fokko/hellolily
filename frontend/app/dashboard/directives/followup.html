<dashboard-widget widget-name="'Followup'" widget-class="'col-md-6'" widget-scrollable="true" widget-closeable="true">
    <div class="widget-name" name="widget-title">
        <i class="fa fa-bell"></i>
        Follow Up
        <span class="label-amount">{{ vm.table.items.length }}</span>
    </div>
    <div name="portlet-body">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th sort-column="account" table="vm.table">Account</th>
                    <th sort-column="name" table="vm.table">Deal</th>
                    <th sort-column="created" table="vm.table">Date</th>
                    <th>Monthly</th>
                    <th sort-column="stage_name" table="vm.table">Status</th>
                </tr>
            </thead>
            <tbody>
                 <tr ng-repeat="followUp in vm.table.items">
                    <td><a ui-sref="base.accounts.detail({ id: followUp.account })">{{ followUp.account_name }}</a></td>
                    <td><a ui-sref="base.deals.detail({ id: followUp.id })">{{ followUp.name }}</a></td>
                    <td>{{ followUp.created|date }}</td>
                    <td>{{ followUp.amount_recurring | currency:"â‚¬" }}</td>
                    <td>{{ followUp.stage_name }}</td>
                </tr>
                <tr ng-hide="vm.table.items.length">
                    <td colspan="6">No follow up deals</td>
                </tr>
            </tbody>
        </table>
    </div>
</dashboard-widget>
