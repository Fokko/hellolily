<div class="timeline-badge">
    <i class="fa fa-envelope-o"></i>
</div>
<div class="timeline-panel">
    <div class='timeline-heading'>
        <h4 class='timeline-title'>{{ ::item.subject | limitTo:45 }}<span ng-if="::item.subject.length >= 45">...</span>
            <div class="btn-group pull-right">
                <a class="text-white" data-toggle="dropdown" aria-expanded="false">
                    <i class="fa fa-angle-down"></i>
                </a>
                <ul class="dropdown-menu pull-right">
                    <li><a ui-sref="base.email.detail({id: item.id})"><i class="fa fa-eye"></i> View</a></li>
                    <li class='divider'></li>
                    <li><a ui-sref="base.email.reply({id: item.id})"><i class="fa fa-mail-reply"></i> Reply</a></li>
                    <li><a ui-sref="base.email.forward({id: item.id})"><i class="fa fa-mail-forward"></i> Forward</a></li>
                </ul>
            </div>
        </h4>
    </div>
    <div class="timeline-body">
        <em style="white-space: pre-wrap;">
            {{ ::item.body | limitTo:265 }}
            <span ng-if="::item.body.length >= 265">...</span>
        </em>
        <ul class="list-inline list-justified">
            <li>
                <small class="text-muted" tooltip="Sent on {{ ::item.date | date:'dd MMMM yy' }} at {{ ::item.date | date:'HH:mm' }}">
                    <i class="fa fa-calendar"></i>
                    {{ ::item.date | date:'dd MMMM yy HH:mm' }}
                </small>
            </li>
            <li>
                <small class="text-muted" tooltip="Sent by: {{ ::item.sender_name }}">
                    <i class="fa fa-user"></i>
                    {{ ::item.sender_name }}
                </small>
            </li>
            <li>
                <small class="text-muted" tooltip="Sent by: {{ ::item.sender_email }}">
                    <i class="fa">@</i>
                    {{ ::item.sender_email }}
                </small>
            </li>
        </ul>
    </div>
</div>
